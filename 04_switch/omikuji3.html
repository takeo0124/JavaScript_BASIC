<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>おみくじ</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/the-new-css-reset/css/reset.min.css">
    <style>
      .merter {
        margin-left: 10px;
      }

      .name {
        display:flex;
        width:300px;
        justify-content: space-between;
      }

      .count {
        display: flex;
        width: 300px;
        justify-content: space-between;
      }
      .count li {
        padding:20px;
        background-color:#ddd;
      }

            #result {
        transition: 1s;
      }

      .active {
        transform: rotateZ(360deg);
      }

    </style>
  </head>
  <body>
    <button id="btn">占う</button>
    <p>
      <img
        id="result"
        src="https://trident.takagino.net/doc2024/javascript/assets/04/omikuji/omikuji.png"
        alt="占う"
      />
    </p>
    <p id="message">何か一言が表示されます。</p>
    <div class="merter">
      <ul class="name">
        <li>大吉</li>
        <li>中吉</li>
        <li>小吉</li>
        <li>凶</li>
        <li>大凶</li>
      </ul>
        <ul class="count">
          <li id="daikichi">0</p>
          <li id="chuukichi">0</p>
          <li id="syoukichi">0</p>
          <li id="kyou">0</p>
          <li id="daikyou">0</p>
        </ul>
    </div>
    <script>
      const btn = document.getElementById("btn");
      const result = document.getElementById("result");
      const message = document.getElementById("message");
      const path =
        "https://trident.takagino.net/doc2024/javascript/assets/04/omikuji";
      const daikichi = document.getElementById("daikichi");
      const chuukichi = document.getElementById("chuukichi");
      const syoukichi = document.getElementById("syoukichi");
      const kyou = document.getElementById("kyou");
      const daikyou = document.getElementById("daikyou");


        let daikichiCount = 0;
        let chuukichiCount = 0;
        let syoukichiCount = 0;
        let kyouCount = 0;
        let daikyouCount = 0;


      btn.addEventListener("click", function () {
        let num = Math.floor(Math.random() * 10);
        console.log(num);

        // 大吉の場合
        switch (num) {
          case 0:
            result.setAttribute(
              "src",
              `${path}/daikichi.png`
            );
            daikichiCount += 1;
            daikichi.innerHTML = `${daikichiCount}`;

            // 出た回数によってコメントを変える
            switch(daikichi) {
            case 1:
            message.innerHTML = '最高';
            break;
            case 2:
            message.innerHTML = 'いいね';
            break;
            default:
            message.innerHTML = 'すごー';
            break;
            }

            break;

          case 1:
          case 2:
            result.setAttribute(
              "src",
              `${path}/chuukichi.png`
            );
            message.innerHTML = "まあいい";
            chuukichiCount += 1;
            chuukichi.innerHTML = `${chuukichiCount}`;

            break;

          case 3:
          case 4:
          case 5:
          case 6:
            result.setAttribute(
              "src",
              `${path}/syoukichi.png`
            );
            message.innerHTML = "普通";
            syoukichiCount += 1;
            syoukichi.innerHTML = `${syoukichiCount}`;

            break;

          case 7:
          case 8:
            result.setAttribute(
              "src",
              `${path}/kyou.png`
            );
            message.innerHTML = "だめ";
            kyouCount += 1;
            kyou.innerHTML = `${kyouCount}`;

            break;

            case 9:
            result.setAttribute(
              "src",
              `${path}/daikyou.png`
            );
            message.innerHTML = "最悪";
            daikyouCount += 1;
            daikyou.innerHTML = `${daikyouCount}`;
            default:


            break;
        }
                result.classList.toggle("active");

      });
    </script>
  </body>
</html>
