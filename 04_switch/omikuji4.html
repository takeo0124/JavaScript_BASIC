<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>おみくじ</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/the-new-css-reset/css/reset.min.css"
    />
    <style>
      .merter {
        margin-left: 10px;
      }

      .name {
        display: flex;
        width: 300px;
        justify-content: space-between;
      }

      .count {
        display: flex;
        width: 300px;
        justify-content: space-between;
      }
      .count li {
        padding: 20px;
        background-color: #ddd;
      }

      #result {
        transition: 1s;
      }

      .active {
        transform: rotateZ(360deg);
      }
    </style>
  </head>
  <body>
    <button id="btn">占う</button>
    <p>
      <img
        id="result"
        src="https://trident.takagino.net/doc2024/javascript/assets/04/omikuji/omikuji.png"
        alt="占う"
      />
    </p>
    <p id="message">何か一言が表示されます。</p>
    <ul class="count"></ul>
    <script>
      const btn = document.getElementById("btn");
      const result = document.getElementById("result");
      const message = document.getElementById("message");
      const path =
        "https://trident.takagino.net/doc2024/javascript/assets/04/omikuji";
      const count = document.getElementById("count");
      count.innerHTML = `
      <li>大吉：${daikichi}</li>
      <li>中吉：${chuukichi}</li>
      <li>小吉：${syoukichi}</li>
      <li>凶：${kyou}</li>
      <li>大凶：${daikyou}</li>`;

      btn.addEventListener("click", function () {
        let num = Math.floor(Math.random() * 5);
        console.log(num);

        switch (num) {
          case 0:
            result.setAttribute("src", `${path}/daikichi.png`);
            message.innerHTML = "最高";
            daikichi += 1;
            break;

          case 1:
            result.setAttribute("src", `${path}/chuukichi.png`);
            message.innerHTML = "まあいい";
            chuuki += 1;
            break;

          case 2:
            result.setAttribute("src", `${path}/syoukichi.png`);
            message.innerHTML = "普通";
            syoukichi += 1;
            break;

          case 3:
            result.setAttribute("src", `${path}/kyou.png`);
            message.innerHTML = "だめ";
            kyou += 1;
            break;

          default:
            result.setAttribute("src", `${path}/daikyou.png`);
            message.innerHTML = "最悪";
            daikyou += 1;
            break;
        }
        result.classList.toggle("active");
        count.innerHTML = `
      <li>大吉：${daikichi}</li>
      <li>中吉：${chuukichi}</li>
      <li>小吉：${syoukichi}</li>
      <li>凶：${kyou}</li>
      <li>大凶：${daikyou}</li>`;
      });
    </script>
  </body>
</html>
